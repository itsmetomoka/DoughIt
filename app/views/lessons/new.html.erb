<div class="container">
	<div class="row mt-5 my-5">
		<div class="col-md-6 offset-md-3">
			<div class="border_bottom">
				<h1>レッスン開講入力フォーム</h1>
			</div>
		</div>
	</div>
	<% if @lesson.errors.any? %>
		<%= render 'devise/shared/error', sth: @lesson %>
	<% end %>
	<% if flash[:validate_image] %>
		<p class ="alert error-message-box"><%= flash[:validate] %></p>
	<% end %>



	<%= form_with model:@lesson, url:confirm_lessons_path, method: :post, data: {remote: false} do |f| %>
		<div class="row my-4">
			<div class="col-md-10 offset-md-1">
				<div class="row ml-5">
					<div class="col-md-8 offset-md-2">
						<% if @lesson.image.present? %>
						  <%= image_tag @lesson.image.url,size:"500x300", id: :img_prev %>
						<% else %>
						  <%= image_tag "noimage.png",size:"500x300", id: :img_prev %>
						<% end %>
					</div>
				</div>
				<div class="row my-3">
					<div class="col-md-4 offset-md-6">
						<%= f.file_field :image, id: :lesson_img %>
						<%= f.hidden_field :image_cache %>
					</div>
				</div>
				<div class="row my-5 mx-5">
					<div class= "col-md-3 offset-md-1">
						<h4>レッスン名</h4>
					</div>
					<div class= "col-md-4 offset-md-2">
						<%=  f.text_field :name,class:"form-control" %>
					</div>
				</div>
				<div class="row my-5 mx-5">
					<div class= "col-md-3 offset-md-1">
						<h4>レッスン内容</h4>
					</div>
					<div class= "col-md-4 offset-md-2">
						<%=  f.text_area :content, class:"form-control" %>
					</div>
				</div>
				<div class="row my-5 mx-5">
					<div class="col-md-3 offset-md-1">
						<h4>カテゴリー</h4>
					</div>
					<div class="col-md-4 offset-md-2">
						<%= f.select :category_name, Lesson.category_names.keys.map {|k| [k, k]} %>
					</div>
				</div>
				<div class="row my-5 mx-5">
					<div class="col-md-3 offset-md-1">
						<h4>開催日</h4>
					</div>
					<div class="col-md-4 offset-md-2">
						<%= f.text_field :event_date, class:"form-control datetimepicker-input", id: "event_date", data: {toggle: "datetimepicker", target: "#event_date"} %>
					</div>
				</div>
				<div class="row my-5 mx-5">
					<div class="col-md-3 offset-md-1">
						<h4>募集締め切り</h4>
					</div>
					<div class="col-md-4 offset-md-2">
						<%= f.text_field :deadline, class:"form-control datetimepicker-input", id: "deadline", data: {toggle: "datetimepicker", target: "#deadline"} %>
					</div>
				</div>
				<div class="row my-5 mx-5">
					<div class="col-md-3 offset-md-1">
						<h4>参加可能人数</h4>
					</div>
					<div class="col-md-3 offset-md-2">
						<%= f.select :max_attendees, [*(1..10)], {selected: 1} %>
					</div>
				</div>
				<div class="row my-5 mx-5">
					<div class="col-md-3 offset-md-1">
						<h4>受講料</h4>
					</div>
					<div class="col-md-4 offset-md-2">
						<%= f.text_field :tuition, class:"form-control" %>
					</div>
				</div>
				<div class="row my-5 mx-5">
					<div class="col-md-3 offset-md-1">
						<h4>場所</h4>
					</div>
					<div class="col-md-4 offset-md-2">
						<%= f.text_area :address, class:"form-control" %>
					</div>
				</div>
			</div>
		</div>
		<div class="row my-5">
			<div class="col-md-4 offset-md-4">
				<%= f.submit "確認画面に進む", class:"button-submit" %>
			</div>
		</div>
	<% end %>

</div>
